<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Bài 4:</title>
		<link rel="stylesheet" href="../../bootstrap-5.1.3-dist/css/bootstrap.css" />
		<script src="../../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
		<style>
			body {
				margin: 20px;
			}
		</style>
	</head>
	<body>
		<h3>QUẢN LÝ KHÁCH HÀNG</h3>
		<button onclick="addCustomer()" class="btn btn-success">Thêm mới khách hàng</button>
		<br />
		<br />
		<div id="result"></div>

		<script>
			class Customer {
				constructor(id, name, phoneNumber, address, email) {
					this.id = id;
					this.name = name;
					this.phoneNumber = phoneNumber;
					this.address = address;
					this.email = email;
				}
			}
			let customer1 = new Customer("KH-001", "Trần Huyền Trân", "0123456789", "Hà Nội", "tranhuyentran@gmail.com");
			let customer2 = new Customer("KH-002", "Trần Văn Chánh", "0987654321", "Đà Nẵng", "tranvanchanh@gmail.com");
			let customer3 = new Customer("KH-003", "Đinh Thanh Hằng", "0192837465", "Hà Nội", "dinhthanhhang@gmail.com");
			let data = [customer1, customer2, customer3];

			displayCustomer(data);

			function displayCustomer(list) {
				let tableString = `<table class="table table-success table-striped">
			                     <tr>
			                         <th>Mã khách hàng</th>
			                         <th>Tên khách hàng</th>
			                         <th>Số điện thoại</th>
			                         <th>Địa chỉ</th>
			                         <th>Email</th>
			                     </tr>`;

				for (let i = 0; i < list.length; i++) {
					tableString += `<tr>
			                         <td>${data[i].id}</td>
			                         <td>${data[i].name}</td>
			                         <td>${data[i].phoneNumber}</td>
			                         <td>${data[i].address}</td>
			                         <td>${data[i].email}</td>
			                     </tr>`;
				}
				tableString += `</table>`;
				document.getElementById("result").innerHTML = tableString;
			}
			displayCustomer(data);

			function addCustomer() {
				let newId = addId("Nhập ID khách hàng mới:").trim();
				let newName = addName("Nhập tên khách hàng:").trim();
				let newPhoneNumber = addPhoneNumber("Nhập số điện thoại khách hàng:").trim();
				let newAddress = addAddress("Nhập địa chỉ khách hàng:").trim();
				let newEmail = addEmail("Nhập email khách hàng:").trim();

				let newCustomer = new Customer(newId, newName, newPhoneNumber, newAddress, newEmail);

				data.push(newCustomer);
				displayCustomer(data);
			}

			function addId(id) {
				let value = prompt(`${id}`).trim();

				while (!value) {
					value = prompt(`Không được để trống. ${id}`);
				}
				return value;
			}

			function addName(name) {
				let value = prompt(`${name}`).trim();

				while (!value) {
					value = prompt(`Không được để trống. ${name}`);
				}
				return value;
			}
			function addPhoneNumber(phoneNumber) {
				let value = prompt(`${phoneNumber}`).trim();

				while (!value) {
					value = prompt(`Không được để trống. ${phoneNumber}`);
				}
				return value;
			}
			function addAddress(address) {
				let value = prompt(`${address}`).trim();

				while (!value) {
					value = prompt(`Không được để trống. ${address}`);
				}
				return value;
			}
			function addEmail(email) {
				let value = prompt(`${email}`).trim();

				while (!value) {
					value = prompt(`Không được để trống. ${email}`);
				}
				return value;
			}
		</script>
	</body>
</html>
